<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GitHub Repositories UI</title>
<style>
  :root{
    --bg:#0b0c10; --panel:#111318; --text:#e8eaf0; --muted:#a7afc0;
    --brand:#7c5cff; --brand-2:#00d4ff; --ok:#21d07a;
    --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.35);
    --border:1px solid rgba(255,255,255,.08);
  }
  body{
    margin:0; font:14px/1.6 system-ui,Segoe UI,Roboto; color:var(--text);
    background:
      radial-gradient(60rem 60rem at 10% -10%, rgba(124,92,255,.25), transparent 60%),
      radial-gradient(60rem 60rem at 110% 20%, rgba(14,165,233,.25), transparent 60%),
      var(--bg);
    display:flex; flex-direction:column; align-items:center; padding:2rem;
  }
  h1{margin:0 0 1rem;font-size:1.4rem}
  .repo-grid{
    display:grid; gap:1rem;
    grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
    width:min(1100px,95vw);
  }
  .repo{
    background:linear-gradient(180deg,var(--panel),rgba(20,20,25,.6));
    border:var(--border); border-radius:var(--radius);
    box-shadow:var(--shadow); padding:1rem 1.25rem;
    display:flex; flex-direction:column; gap:.6rem;
    transition:transform .15s ease,box-shadow .15s ease;
  }
  .repo:hover{transform:translateY(-2px);box-shadow:0 15px 30px rgba(0,0,0,.4);}
  .repo h2{font-size:1.05rem; margin:0; color:var(--brand);}
  .desc{color:var(--muted);font-size:.9rem;flex:1;}
  .stats{display:flex;flex-wrap:wrap;gap:.8rem;font-size:.85rem;color:var(--muted);}
  .stats span{display:flex;align-items:center;gap:.3rem;}
  .btn{
    align-self:flex-start;
    background:linear-gradient(90deg,var(--brand),var(--brand-2));
    border:none;color:white;font-weight:600;
    border-radius:10px;padding:.5rem .9rem;
    text-decoration:none;transition:opacity .15s;
  }
  .btn:hover{opacity:.85;}
  .lang{font-weight:600;color:var(--ok);}
  footer{margin-top:2rem;color:var(--muted);font-size:.85rem;}
</style>
</head>
<body>

<h1>My GitHub Repositories</h1>
<div class="repo-grid" id="repoGrid">
  <!-- Repositories will render here -->
</div>

<footer>Data from GitHub API</footer>

<script>
const username = "cindervoid"; // ‚Üê your GitHub username

// Automatically detect this site's repo name from URL
function detectRepoFromURL() {
  try {
    const host = window.location.hostname.toLowerCase();
    const path = window.location.pathname.replace(/^\/|\/$/g, ""); // remove leading/trailing slashes
    // Example: username.github.io/repo-name/ ‚Üí "repo-name"
    if (host.includes("github.io")) {
      const segments = path.split("/");
      return segments[0] || ""; // first segment after github.io
    }
    return "";
  } catch { return ""; }
}

async function loadRepos() {
  const grid = document.getElementById("repoGrid");
  grid.innerHTML = "<p>Loading repositories‚Ä¶</p>";
  try {
    const res = await fetch(`https://api.github.com/users/${username}/repos?per_page=100&sort=updated`);
    if (!res.ok) throw new Error("GitHub API rate limited or user not found");
    let data = await res.json();

    // Exclude the repo this site is running from
    const currentRepo = detectRepoFromURL();
    if (currentRepo) {
      data = data.filter(repo => repo.name.toLowerCase() !== currentRepo.toLowerCase());
    }

    grid.innerHTML = "";
    data.forEach(repo=>{
      const card = document.createElement("article");
      card.className = "repo";
      card.innerHTML = `
        <h2>${repo.name}</h2>
        <p class="desc">${repo.description ?? "No description provided."}</p>
        <div class="stats">
          <span class="lang">${repo.language ?? "Unknown"}</span>
          <span>‚òÖ ${repo.stargazers_count}</span>
          <span>‚ëÇ ${repo.forks_count}</span>
          <span>‚ö† ${repo.open_issues_count}</span>
          <span>üïí Updated ${new Date(repo.updated_at).toLocaleDateString()}</span>
        </div>
        <a class="btn" href="${repo.html_url}" target="_blank" rel="noopener">Open on GitHub</a>
      `;
      grid.appendChild(card);
    });

    if (data.length === 0) {
      grid.innerHTML = `<p style="color:var(--muted)">No repositories found (after self-exclusion).</p>`;
    }
  } catch (err) {
    grid.innerHTML = `<p style="color:var(--muted)">Error: ${err.message}</p>`;
  }
}

loadRepos();
</script>
</body>
</html>
